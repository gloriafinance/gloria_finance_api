NODE_ENV=local
APP_PORT=5200

# Base de datos
MONGO_URI=

# JWT
JWT_SECRET=
JWT_REFRESH_SECRET=
JWT_ACCESS_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=30d

# Notificaciones (Telegram)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Archivos (GCP)
BUCKET_FILES=
GOOGLE_APPLICATION_CREDENTIALS=/ruta/credenciales.json

# Redis / BullMQ
REDIS_HOST=
REDIS_PORT=
REDIS_USER=
REDIS_PASSWORD=
CACHE_DRIVER=memory
BULL_USER=
BULL_PASS=

# Email (si aplica)
SEND_MAIL_SERVICE_CLIENT_EMAIL=
SEND_MAIL_USER=
SEND_MAIL_PRIVATE_KEY=

MICROSOFT_TENANT_ID=
MICROSOFT_CLIENT_ID=

# Axiom Logs
AXIOM_TOKEN=
AXIOM_DATASET=gloria_finance_api


# AI

# AI Router (quota-aware)
# Configuracion completa de proveedores (fuente unica de verdad).
# Campos obligatorios por entrada:
# name, serviceName, apiKey, model, priority, dailyBudgetRequests, dailyBudgetTokens, maxConcurrency, maxRequestsPerMinute
AI_PROVIDER_CONFIG=[{"name":"groq","serviceName":"groq","apiKey":"","model":"moonshotai/kimi-k2-instruct-0905","priority":100,"dailyBudgetRequests":1200,"dailyBudgetTokens":0,"maxConcurrency":4,"maxRequestsPerMinute":25},{"name":"gemini","serviceName":"gemini","apiKey":"","model":"gemini-2.5-flash","priority":98,"dailyBudgetRequests":1000,"dailyBudgetTokens":0,"maxConcurrency":4,"maxRequestsPerMinute":20},{"name":"cerebras","serviceName":"cerebras","apiKey":"","model":"llama-3.3-70b","priority":98,"dailyBudgetRequests":900,"dailyBudgetTokens":0,"maxConcurrency":3,"maxRequestsPerMinute":15},{"name":"openrouter","serviceName":"openrouter","apiKey":"","model":"openai/gpt-4o-mini","priority":20,"dailyBudgetRequests":50,"dailyBudgetTokens":0,"maxConcurrency":2,"maxRequestsPerMinute":3}]
# Tamaño de cada franja temporal en minutos para repartir presupuesto diario.
AI_SLICE_MINUTES=60
# Factor de elasticidad por franja (1 = reparto lineal, >1 permite más burst).
AI_SLICE_BURST_FACTOR=1
# Umbral (0-1) para bajar prioridad si headers externos reportan remaining bajo.
AI_EXTERNAL_REMAINING_LOW_THRESHOLD=0.15
# Si true, OpenRouter se conserva para contingencias.
AI_RESERVE_OPENROUTER=true
# Horas antes del reset diario a partir de las cuales se puede liberar OpenRouter.
AI_OPENROUTER_RELEASE_HOURS_TO_RESET=4
# Umbral promedio de presupuesto restante en proveedores primarios para liberar OpenRouter.
AI_OPENROUTER_RELEASE_PRIMARY_REMAINING_THRESHOLD=0.2
# Cooldown en segundos después de rate limit (429/427).
AI_COOLDOWN_RATE_LIMIT_SECONDS=120
# Cooldown en segundos por errores temporales del proveedor/JSON inválido.
AI_COOLDOWN_PROVIDER_ERROR_SECONDS=45
# Bloqueo en segundos para proveedor en estado payment required/billing (402).
AI_BLOCK_PAYMENT_REQUIRED_SECONDS=86400
